{"version":3,"sources":["../src/kiana.js"],"names":["$","fn","KianaInit","data","css","dragging","move","randomPosition","kianaImg1","kianaImg2","kianaImg3","kianaImg4","dragMp3","kiana_1Mp3","kiana_2Mp3","kiana_3Mp3","kiana_4Mp3","kiana_5Mp3","kiana_6Mp3","kiana_7Mp3","kiana_8Mp3","kiana_9Mp3","kiana_10Mp3","kiana_11Mp3","lan","LanMp3","append","prop","console","log","mousedown","isDown","mouseenter","mouseleave","paused","o","GetLanMp3","Mp3PlayAndShowMsg","mp3Src","mouseup","mousemove","play","text","hover","onended","$this","xPage","yPage","X","Y","xRand","yRand","father","parent","defaults","hander","opt","extend","movePosition","random","find","position","overflow","cursor","faWidth","width","faHeight","height","thisWidth","parseInt","thisHeight","mDown","positionX","positionY","moveX","moveY","$thisRandom","each","index","randY","Math","randX","toLowerCase","left","top","e","zIndex","pageX","pageY","document","thisXMove","thisYMove","thisAllMove","kianaLanguage","isPaused","oldNum","num","floor","obj"],"mappings":"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","file":"kiana.js","sourcesContent":["$.fn.KianaInit = function (data) {\n    //设置index\n    $(this).css('z-index', '999999');\n    //拖动效果\n    $(this).dragging({\n        move: 'both',\n        randomPosition: data.randomPosition, //位置是否随机\n    });\n\n    //资源配置\n    //图片\n    //相对目录的问题\n    //被引用后变成了引用文件所在位置的相对目录\n    //大坑！结论：JS文件内的相对路径，也是从HTML文件所在位置开始计算的，跟js文件在哪无关。\n    // Issue 要全部换成path\n    var kianaImg1 = '../assets/img/kiana-1.png';\n    var kianaImg2 = '../assets/img/kiana-2.png';\n    var kianaImg3 = '../assets/img/kiana-3.gif';\n    var kianaImg4 = '../assets/img/kiana-4.png';\n    //MP3\n    var dragMp3 = '../assets/mp3/kiana_drag.mp3';\n    var kiana_1Mp3 = '../assets/mp3/kiana_1.mp3';\n    var kiana_2Mp3 = '../assets/mp3/kiana_2.mp3';\n    var kiana_3Mp3 = '../assets/mp3/kiana_3.mp3';\n    var kiana_4Mp3 = '../assets/mp3/kiana_4.mp3';\n    var kiana_5Mp3 = '../assets/mp3/kiana_5.mp3';\n    var kiana_6Mp3 = '../assets/mp3/kiana_6.mp3';\n    var kiana_7Mp3 = '../assets/mp3/kiana_7.mp3';\n    var kiana_8Mp3 = '../assets/mp3/kiana_8.mp3';\n    var kiana_9Mp3 = '../assets/mp3/kiana_9.mp3';\n    var kiana_10Mp3 = '../assets/mp3/kiana_10.mp3';\n    var kiana_11Mp3 = '../assets/mp3/kiana_11.mp3';\n    // var kianaImg1 = \"../img/kiana-1.png\";\n    // var kianaImg2 = \"../img/kiana-2.png\";\n    // var kianaImg3 = \"../img/kiana-3.gif\";\n    // var kianaImg4 = \"../img/kiana-4.png\";\n    // //MP3\n    // var dragMp3 = \"../mp3/kiana_drag.mp3\";\n    // var kiana_1Mp3 = \"../mp3/kiana_1.mp3\";\n    // var kiana_2Mp3 = \"../mp3/kiana_2.mp3\";\n    // var kiana_3Mp3 = \"../mp3/kiana_3.mp3\";\n    // var kiana_4Mp3 = \"../mp3/kiana_4.mp3\";\n    // var kiana_5Mp3 = \"../mp3/kiana_5.mp3\";\n    // var kiana_6Mp3 = \"../mp3/kiana_6.mp3\";\n    // var kiana_7Mp3 = \"../mp3/kiana_7.mp3\";\n    // var kiana_8Mp3 = \"../mp3/kiana_8.mp3\";\n    // var kiana_9Mp3 = \"../mp3/kiana_9.mp3\";\n    // var kiana_10Mp3 = \"../mp3/kiana_10.mp3\";\n    // var kiana_11Mp3 = \"../mp3/kiana_11.mp3\";\n    //语言\n    var lan = [\n        '呀~~',\n        '快看快看我抽到了什么',\n        '去死去死去死去死！！',\n        '主人,人家钱包都空了~',\n        '变态！',\n        'kiana,变身',\n        '哼,mihoyou什么的最讨厌了！！！',\n        '千万别小看我哟',\n        '要加油哦',\n        '我就知道主人最疼人家了',\n        '锵锵~',\n        '烦死啦走开走开啦！！！',\n    ];\n\n    //存语言和MP3的json对象,每个语言对应一个mp3\n    var LanMp3 = {\n        '呀~~': dragMp3,\n        '快看快看我抽到了什么': kiana_1Mp3,\n        '去死去死去死去死！！': kiana_2Mp3,\n        '主人,人家钱包都空了~': kiana_3Mp3,\n        '变态！': kiana_4Mp3,\n        'kiana,变身': kiana_5Mp3,\n        '哼,mihoyou什么的最讨厌了！！！': kiana_6Mp3,\n        '千万别小看我哟': kiana_7Mp3,\n        '要加油哦': kiana_8Mp3,\n        '我就知道主人最疼人家了': kiana_9Mp3,\n        '锵锵~': kiana_10Mp3,\n        '烦死啦走开走开啦！！！': kiana_11Mp3,\n    };\n\n    //创建一个div包括所有内容\n    $(this).append(\"<div class='kiana'></div>\");\n\n    //创建图片div  class=\"kianaImgDiv\"\n    $('.kiana').append(\"<div class='kianaImgDiv'></div>\");\n    //向图片div里创建图片，用于显示kiana\n    $('.kianaImgDiv').append(\"<img id='kianaImg' />\");\n    //kianaImg 默认src=第一张\n    $('#kianaImg').prop('src', kianaImg1);\n\n    console.log(kianaImg1);\n\n    //创建mp3 div class=\"kianaMP3Div\"\n    $('.kiana').append(\"<div class='kianaMP3Div'></div>\");\n    //向MP3div里创建audio\n    $('.kianaMP3Div').append(\"<audio id='kianaAudio'></audio>\");\n\n    //创建语言气泡div\n    $('.kiana').append(\"<div class='kianaLanguage'></div>\");\n\n    //关闭按钮\n    $('.kiana').append(\"<div class='kianaCloseBtn'>×</div>\");\n    //关闭kiana\n    $('.kianaCloseBtn').mousedown(function () {\n        $('.kiana').css('display', 'none');\n    });\n\n    //鼠标\n    //进入kianaImgDiv时,显示第3张图片，显示关闭按钮\n    //离开时，显示第1张，\n    //按下时:显示第4张,并随机播放MP3和一句话\n    //弹起时：显示第3张\n    //移动时:判断isDown的状态，如果为true,说明按下且拖动，则显示第二张，并播放dargmp3\n    // isDown表示鼠标是否按下\n    var isDown = false;\n    $('.kianaImgDiv')\n        .mouseenter(function () {\n            $('#kianaImg').prop('src', kianaImg3);\n        })\n        .mouseleave(function () {\n            if ($('#kianaAudio')[0].paused) {\n                $('#kianaImg').prop('src', kianaImg1);\n                $('.kianaCloseBtn').css('display', 'none');\n            }\n            isDown = false;\n        })\n        .mousedown(function () {\n            $('#kianaImg').prop('src', kianaImg4);\n            var o = GetLanMp3(LanMp3, lan);\n            Mp3PlayAndShowMsg(o.mp3Src, o.lan);\n            isDown = true;\n        })\n        .mouseup(function () {\n            isDown = false;\n            if ($('#kianaAudio')[0].paused) {\n                $('#kianaImg').prop('src', kianaImg3);\n            }\n        })\n        .mousemove(function () {\n            if (isDown) {\n                $('#kianaImg').prop('src', kianaImg2);\n                $('#kianaAudio').prop('src', dragMp3);\n                $('#kianaAudio')[0].play();\n                $('.kianaLanguage').css('display', 'block');\n                $('.kianaLanguage').text(lan[0]);\n            }\n            isDown = false;\n        })\n        .hover(\n            function () {\n                if ($('.kianaCloseBtn').css('display') != 'blcok') {\n                    $('.kianaCloseBtn').css('display', 'block');\n                }\n            },\n            function () {\n                if ($('.kianaCloseBtn').css('display') != 'none') {\n                    $('.kianaCloseBtn').css('display', 'none');\n                }\n            }\n        );\n\n    //MP3播放完成\n    $('#kianaAudio')[0].onended = function () {\n        //隐藏语言气泡\n        $('.kianaLanguage').css('display', 'none');\n        $('.kianaLanguage').text('');\n        //还原默认图片\n        $('#kianaImg').prop('src', kianaImg3);\n    };\n};\n\n//拖动\n$.fn.dragging = function (data) {\n    var $this = $(this);\n    var xPage;\n    var yPage;\n    var X; //\n    var Y; //\n    var xRand = 0; //\n    var yRand = 0; //\n    var father = $this.parent();\n    var defaults = {\n        move: 'both',\n        randomPosition: true,\n        hander: 1,\n    };\n    var opt = $.extend({}, defaults, data);\n    var movePosition = opt.move;\n    var random = opt.randomPosition;\n\n    var hander = opt.hander;\n\n    if (hander == 1) {\n        hander = $this;\n    } else {\n        hander = $this.find(opt.hander);\n    }\n\n    father.css({\n        position: 'relative',\n        overflow: 'hidden',\n    });\n    $this.css({\n        position: 'absolute',\n    });\n    hander.css({\n        cursor: 'move',\n    });\n\n    var faWidth = father.width();\n    var faHeight = father.height();\n    var thisWidth = $this.width() + parseInt($this.css('padding-left')) + parseInt($this.css('padding-right'));\n    var thisHeight = $this.height() + parseInt($this.css('padding-top')) + parseInt($this.css('padding-bottom'));\n\n    var mDown = false;\n    var positionX;\n    var positionY;\n    var moveX;\n    var moveY;\n\n    if (random) {\n        $thisRandom();\n    }\n\n    function $thisRandom() {\n        $this.each(function (index) {\n            var randY = parseInt(Math.random() * (faHeight - thisHeight)); ///\n            var randX = parseInt(Math.random() * (faWidth - thisWidth)); ///\n            if (movePosition.toLowerCase() == 'x') {\n                $(this).css({\n                    left: randX,\n                });\n            } else if (movePosition.toLowerCase() == 'y') {\n                $(this).css({\n                    top: randY,\n                });\n            } else if (movePosition.toLowerCase() == 'both') {\n                $(this).css({\n                    top: randY,\n                    left: randX,\n                });\n            }\n        });\n    }\n\n    hander.mousedown(function (e) {\n        //father.children().css({ \"zIndex\": \"0\" });\n        $this.css({\n            zIndex: '999999',\n        });\n        mDown = true;\n        X = e.pageX;\n        Y = e.pageY;\n        positionX = $this.position().left;\n        positionY = $this.position().top;\n        return false;\n    });\n\n    $(document).mouseup(function (e) {\n        mDown = false;\n    });\n\n    $(document).mousemove(function (e) {\n        xPage = e.pageX; //--\n        moveX = positionX + xPage - X;\n\n        yPage = e.pageY; //--\n        moveY = positionY + yPage - Y;\n\n        function thisXMove() {\n            if (mDown == true) {\n                $this.css({\n                    left: moveX,\n                });\n            } else {\n                return;\n            }\n            if (moveX < 0) {\n                $this.css({\n                    left: '0',\n                });\n            }\n            if (moveX > faWidth - thisWidth) {\n                $this.css({\n                    left: faWidth - thisWidth,\n                });\n            }\n            return moveX;\n        }\n\n        function thisYMove() {\n            if (mDown == true) {\n                $this.css({\n                    top: moveY,\n                });\n            } else {\n                return;\n            }\n            if (moveY < 0) {\n                $this.css({\n                    top: '0',\n                });\n            }\n            if (moveY > faHeight - thisHeight) {\n                $this.css({\n                    top: faHeight - thisHeight,\n                });\n            }\n            return moveY;\n        }\n\n        function thisAllMove() {\n            if (mDown == true) {\n                $this.css({\n                    left: moveX,\n                    top: moveY,\n                });\n            } else {\n                return;\n            }\n            if (moveX < 0) {\n                $this.css({\n                    left: '0',\n                });\n            }\n            if (moveX > faWidth - thisWidth) {\n                $this.css({\n                    left: faWidth - thisWidth,\n                });\n            }\n\n            if (moveY < 0) {\n                $this.css({\n                    top: '0',\n                });\n            }\n            if (moveY > faHeight - thisHeight) {\n                $this.css({\n                    top: faHeight - thisHeight,\n                });\n            }\n        }\n        if (movePosition.toLowerCase() == 'x') {\n            thisXMove();\n        } else if (movePosition.toLowerCase() == 'y') {\n            thisYMove();\n        } else if (movePosition.toLowerCase() == 'both') {\n            thisAllMove();\n        }\n    });\n};\n\n//播放MP3并显示语言\nMp3PlayAndShowMsg = function (mp3Src, kianaLanguage) {\n    var isPaused = $('#kianaAudio')[0].paused;\n    if (isPaused) {\n        $('#kianaAudio').prop('src', mp3Src);\n        $('#kianaAudio')[0].play();\n        $('.kianaLanguage').css('display', 'block');\n        $('.kianaLanguage').text(kianaLanguage);\n    }\n};\n\nvar oldNum; //用来保存上一次的num，用来和生成的num做比较，保证不重复\n//随机从LanMp3抽取,返回一个包含mp3路径以及对应的话的对象\nGetLanMp3 = function (LanMp3, lan) {\n    //产生一个随机数0-11\n    while (true) {\n        var num = Math.floor(Math.random() * (11 + 1));\n        if (num < 0) {\n            num = 0;\n        }\n        if (num > 12) {\n            num = 12;\n        }\n        //如果和上一次的num不一样则退出\n        if (num != oldNum) {\n            break;\n        }\n    }\n    oldNum = num;\n    var obj = {\n        mp3Src: LanMp3[lan[num]],\n        lan: lan[num],\n    };\n    return obj;\n};"]}